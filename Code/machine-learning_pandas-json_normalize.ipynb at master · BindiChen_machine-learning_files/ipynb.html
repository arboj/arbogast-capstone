<!DOCTYPE html>
<!-- saved from url=(0661)https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&nwo=BindiChen%2Fmachine-learning&path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&repository_id=263170581&repository_type=Repository#71ddf01d-07f4-411c-bbf7-433b46da6f0d -->
<html data-color-mode="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Render</title>
  <meta name="referrer" content="never">
    <script src="./ipynb-9667a01dd517d44db63b.js" type="text/javascript"></script><link rel="stylesheet" href="./ipynb-9667a01dd517d44db63b.css">


</head>
<body class="" data-render-url="https://render-temp.githubusercontent.com" data-github-hostname="github.com" data-client-timeout-attempts="30">
  <div class="render-shell js-render-shell" data-document-nwo="BindiChen/machine-learning" data-document-commit="aeb6efe6ac81cc9d57666343d70845ac0ea0ecad" data-document-path="data-analysis/028-pandas-json_normalize/pandas-json_normalize.ipynb" data-file="https://github-render.s3.amazonaws.com/prod/d67818cfc31c57955f83945bc50b3e1a015fb91a5ef16a13b288c816779923e5-render.html?X-Amz-Expires=65&amp;X-Amz-Date=20210713T193004Z&amp;X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAJILR36AMCOMBK3MQ%2F20210713%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=caf6c3312b54d9c40d1f471bce0b45b61d30033172d1c24768b61e563bbb3df7" data-meta="https://github-render.s3.amazonaws.com/prod/d67818cfc31c57955f83945bc50b3e1a015fb91a5ef16a13b288c816779923e5-meta.json?X-Amz-Expires=65&amp;X-Amz-Date=20210713T193004Z&amp;X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAJILR36AMCOMBK3MQ%2F20210713%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=7d7f95232e3ced00f62a501da6a996249e9312aac1342b96053f70b2450f6a27" data-no-external-render="false">
    

<div class="render-info">
  <div class="js-viewer-health render-health is-viewer-good">
    <span class="symbol">⊖</span>
    <span class="js-message message">Everything running smoothly!</span>
  </div>
</div>

<div id="notebook" class="js-html">
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1>Pandas json_normalize()<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#Pandas-json_normalize()">¶</a>
</h1>
<p>This is a notebook for the medium article <a href="https://bindichen.medium.com/all-pandas-json-normalize-you-should-know-for-flattening-json-13eae1dfb7dd">Pandas json_normalize()</a></p>
<p>Please check out article for instructions</p>
<p><strong>License</strong>: <a href="https://opensource.org/licenses/BSD-2-Clause">BSD 2-Clause</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>1. Flattening a simple JSON<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#1.-Flattening-a-simple-JSON">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>A dict<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#A-dict">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'school'</span><span class="p">:</span> <span class="s1">'ABC primary school'</span><span class="p">,</span>
    <span class="s1">'location'</span><span class="p">:</span> <span class="s1">'London'</span><span class="p">,</span>
    <span class="s1">'ranking'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">a_dict</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>school</th>
      <th>location</th>
      <th>ranking</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABC primary school</td>
      <td>London</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1 entries, 0 to 0
Data columns (total 3 columns):
 #   Column    Non-Null Count  Dtype 
---  ------    --------------  ----- 
 0   school    1 non-null      object
 1   location  1 non-null      object
 2   ranking   1 non-null      int64 
dtypes: int64(1), object(2)
memory usage: 152.0+ bytes
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>A list of dicts<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#A-list-of-dicts">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">json_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> <span class="s1">'num_of_students'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> <span class="s1">'num_of_students'</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span> <span class="p">},</span>
<span class="p">]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>class</th>
      <th>num_of_students</th>
      <th>room</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Year 1</td>
      <td>20</td>
      <td>Yellow</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Year 2</td>
      <td>25</td>
      <td>Blue</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Missing field is represented as NaN</span>
<span class="n">json_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> <span class="s1">'num_of_students'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span> <span class="p">},</span>
<span class="p">]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>class</th>
      <th>num_of_students</th>
      <th>room</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Year 1</td>
      <td>20.0</td>
      <td>Yellow</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Year 2</td>
      <td>NaN</td>
      <td>Blue</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>2. Flattening a JSON with Multiple levels<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#2.-Flattening-a-JSON-with-Multiple-levels">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>A dict<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#A-dict">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a_obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'school'</span><span class="p">:</span> <span class="s1">'ABC primary school'</span><span class="p">,</span>
    <span class="s1">'location'</span><span class="p">:</span> <span class="s1">'London'</span><span class="p">,</span>
    <span class="s1">'ranking'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'president'</span><span class="p">:</span> <span class="s1">'John Kasich'</span><span class="p">,</span>
        <span class="s1">'contacts'</span><span class="p">:</span> <span class="p">{</span>
          <span class="s1">'email'</span><span class="p">:</span> <span class="p">{</span>
              <span class="s1">'admission'</span><span class="p">:</span> <span class="s1">'admission@abc.com'</span><span class="p">,</span>
              <span class="s1">'general'</span><span class="p">:</span> <span class="s1">'info@abc.com'</span>
          <span class="p">},</span>
          <span class="s1">'tel'</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">a_obj</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>school</th>
      <th>location</th>
      <th>ranking</th>
      <th>info.president</th>
      <th>info.contacts.email.admission</th>
      <th>info.contacts.email.general</th>
      <th>info.contacts.tel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABC primary school</td>
      <td>London</td>
      <td>2</td>
      <td>John Kasich</td>
      <td>admission@abc.com</td>
      <td>info@abc.com</td>
      <td>123456789</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># If you don’t want to dig all the way down into each sub-object use the max_level argument.</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">a_obj</span><span class="p">,</span> <span class="n">max_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[9]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>school</th>
      <th>location</th>
      <th>ranking</th>
      <th>info.president</th>
      <th>info.contacts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABC primary school</td>
      <td>London</td>
      <td>2</td>
      <td>John Kasich</td>
      <td>{'email': {'admission': 'admission@abc.com', '...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>A list of dicts<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#A-list-of-dicts">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">json_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> 
                <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Rick Scott'</span><span class="p">,</span> 
                <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Elon Mask'</span> 
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> 
                <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Alan Turing'</span><span class="p">,</span> 
                <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Albert Einstein'</span> 
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[10]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>class</th>
      <th>student count</th>
      <th>room</th>
      <th>info.teachers.math</th>
      <th>info.teachers.physics</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Year 1</td>
      <td>20</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
      <td>Elon Mask</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Year 2</td>
      <td>25</td>
      <td>Blue</td>
      <td>Alan Turing</td>
      <td>Albert Einstein</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">,</span> <span class="n">max_level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>class</th>
      <th>student count</th>
      <th>room</th>
      <th>info.teachers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Year 1</td>
      <td>20</td>
      <td>Yellow</td>
      <td>{'math': 'Rick Scott', 'physics': 'Elon Mask'}</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Year 2</td>
      <td>25</td>
      <td>Blue</td>
      <td>{'math': 'Alan Turing', 'physics': 'Albert Ein...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># with missing keys</span>
<span class="n">json_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Rick Scott'</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Elon Mask'</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Albert Einstein'</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[12]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>class</th>
      <th>student count</th>
      <th>room</th>
      <th>info.teachers.math</th>
      <th>info.teachers.physics</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Year 1</td>
      <td>20</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
      <td>Elon Mask</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Year 2</td>
      <td>25</td>
      <td>Blue</td>
      <td>NaN</td>
      <td>Albert Einstein</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>3. Flattening a JSON with nested list<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#3.-Flattening-a-JSON-with-nested-list">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>A dict<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#A-dict">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'school'</span><span class="p">:</span> <span class="s1">'ABC primary school'</span><span class="p">,</span>
    <span class="s1">'location'</span><span class="p">:</span> <span class="s1">'London'</span><span class="p">,</span>
    <span class="s1">'ranking'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'president'</span><span class="p">:</span> <span class="s1">'John Kasich'</span><span class="p">,</span>
        <span class="s1">'contacts'</span><span class="p">:</span> <span class="p">{</span>
          <span class="s1">'email'</span><span class="p">:</span> <span class="p">{</span>
              <span class="s1">'admission'</span><span class="p">:</span> <span class="s1">'admission@abc.com'</span><span class="p">,</span>
              <span class="s1">'general'</span><span class="p">:</span> <span class="s1">'info@abc.com'</span>
          <span class="p">},</span>
          <span class="s1">'tel'</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tom'</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'James'</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Jacqueline'</span> <span class="p">}</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">a_dict</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[14]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>school</th>
      <th>location</th>
      <th>ranking</th>
      <th>students</th>
      <th>info.president</th>
      <th>info.contacts.email.admission</th>
      <th>info.contacts.email.general</th>
      <th>info.contacts.tel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ABC primary school</td>
      <td>London</td>
      <td>2</td>
      <td>[{'name': 'Tom'}, {'name': 'James'}, {'name': ...</td>
      <td>John Kasich</td>
      <td>admission@abc.com</td>
      <td>info@abc.com</td>
      <td>123456789</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Flatten students</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">a_dict</span><span class="p">,</span> <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[15]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jacqueline</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Include meta data</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span>
    <span class="n">a_dict</span><span class="p">,</span> 
    <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">],</span>
    <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s1">'school'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'info'</span><span class="p">,</span> <span class="s1">'contacts'</span><span class="p">,</span> <span class="s1">'tel'</span><span class="p">]],</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[16]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>school</th>
      <th>info.contacts.tel</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
      <td>ABC primary school</td>
      <td>123456789</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
      <td>ABC primary school</td>
      <td>123456789</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jacqueline</td>
      <td>ABC primary school</td>
      <td>123456789</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>A list of dicts<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#A-list-of-dicts">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">json_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> 
                <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Rick Scott'</span><span class="p">,</span> 
                <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Elon Mask'</span> 
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> 
                <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tom'</span><span class="p">,</span> 
                <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span><span class="p">,</span> 
                <span class="s1">'grades'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="mi">66</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="mi">77</span> <span class="p">}</span> 
            <span class="p">},</span>
            <span class="p">{</span> 
                <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'James'</span><span class="p">,</span> 
                <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span><span class="p">,</span> 
                <span class="s1">'grades'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="mi">78</span> <span class="p">}</span> 
            <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> 
                <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Alan Turing'</span><span class="p">,</span> 
                <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Albert Einstein'</span> 
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tony'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Jacqueline'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'F'</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[17]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>class</th>
      <th>student count</th>
      <th>room</th>
      <th>students</th>
      <th>info.teachers.math</th>
      <th>info.teachers.physics</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Year 1</td>
      <td>20</td>
      <td>Yellow</td>
      <td>[{'name': 'Tom', 'sex': 'M', 'grades': {'math'...</td>
      <td>Rick Scott</td>
      <td>Elon Mask</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Year 2</td>
      <td>25</td>
      <td>Blue</td>
      <td>[{'name': 'Tony', 'sex': 'M'}, {'name': 'Jacqu...</td>
      <td>Alan Turing</td>
      <td>Albert Einstein</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json_list</span><span class="p">,</span> <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[18]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>sex</th>
      <th>grades.math</th>
      <th>grades.physics</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
      <td>M</td>
      <td>66.0</td>
      <td>77.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
      <td>M</td>
      <td>80.0</td>
      <td>78.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tony</td>
      <td>M</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jacqueline</td>
      <td>F</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span>
    <span class="n">json_list</span><span class="p">,</span> 
    <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">],</span> 
    <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'info'</span><span class="p">,</span> <span class="s1">'teachers'</span><span class="p">,</span> <span class="s1">'math'</span><span class="p">]]</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[19]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>sex</th>
      <th>grades.math</th>
      <th>grades.physics</th>
      <th>class</th>
      <th>room</th>
      <th>info.teachers.math</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
      <td>M</td>
      <td>66.0</td>
      <td>77.0</td>
      <td>Year 1</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
      <td>M</td>
      <td>80.0</td>
      <td>78.0</td>
      <td>Year 1</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tony</td>
      <td>M</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Year 2</td>
      <td>Blue</td>
      <td>Alan Turing</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jacqueline</td>
      <td>F</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Year 2</td>
      <td>Blue</td>
      <td>Alan Turing</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>4. Ignoring KeyError if keys are not always present<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#4.-Ignoring-KeyError-if-keys-are-not-always-present">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> 
                <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Rick Scott'</span><span class="p">,</span> 
                <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Elon Mask'</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tom'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'James'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> 
                <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Albert Einstein'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tony'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Jacqueline'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'F'</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span> 
    <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">],</span> 
    <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'info'</span><span class="p">,</span> <span class="s1">'teachers'</span><span class="p">,</span> <span class="s1">'math'</span><span class="p">]],</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">~/anaconda3/envs/tf-tutorial/lib/python3.7/site-packages/pandas/io/json/_normalize.py</span> in <span class="ansi-cyan-fg">_recursive_extract</span><span class="ansi-blue-fg">(data, path, seen_meta, level)</span>
<span class="ansi-green-intense-fg ansi-bold">    323</span>                         <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 324</span><span class="ansi-red-fg">                             </span>meta_val <span class="ansi-blue-fg">=</span> _pull_field<span class="ansi-blue-fg">(</span>obj<span class="ansi-blue-fg">,</span> val<span class="ansi-blue-fg">[</span>level<span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    325</span>                         <span class="ansi-green-fg">except</span> KeyError <span class="ansi-green-fg">as</span> e<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/anaconda3/envs/tf-tutorial/lib/python3.7/site-packages/pandas/io/json/_normalize.py</span> in <span class="ansi-cyan-fg">_pull_field</span><span class="ansi-blue-fg">(js, spec)</span>
<span class="ansi-green-intense-fg ansi-bold">    236</span>             <span class="ansi-green-fg">for</span> field <span class="ansi-green-fg">in</span> spec<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 237</span><span class="ansi-red-fg">                 </span>result <span class="ansi-blue-fg">=</span> result<span class="ansi-blue-fg">[</span>field<span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">    238</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>

<span class="ansi-red-fg">KeyError</span>: 'math'

The above exception was the direct cause of the following exception:

<span class="ansi-red-fg">KeyError</span>                                  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-21-977290635fef&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     data<span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     record_path <span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'students'</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg">     </span>meta<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'class'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'room'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">'info'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'teachers'</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">'math'</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> )

<span class="ansi-green-fg">~/anaconda3/envs/tf-tutorial/lib/python3.7/site-packages/pandas/io/json/_normalize.py</span> in <span class="ansi-cyan-fg">_json_normalize</span><span class="ansi-blue-fg">(data, record_path, meta, meta_prefix, record_prefix, errors, sep, max_level)</span>
<span class="ansi-green-intense-fg ansi-bold">    334</span>                 records<span class="ansi-blue-fg">.</span>extend<span class="ansi-blue-fg">(</span>recs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    335</span> 
<span class="ansi-green-fg">--&gt; 336</span><span class="ansi-red-fg">     </span>_recursive_extract<span class="ansi-blue-fg">(</span>data<span class="ansi-blue-fg">,</span> record_path<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">{</span><span class="ansi-blue-fg">}</span><span class="ansi-blue-fg">,</span> level<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    337</span> 
<span class="ansi-green-intense-fg ansi-bold">    338</span>     result <span class="ansi-blue-fg">=</span> DataFrame<span class="ansi-blue-fg">(</span>records<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/anaconda3/envs/tf-tutorial/lib/python3.7/site-packages/pandas/io/json/_normalize.py</span> in <span class="ansi-cyan-fg">_recursive_extract</span><span class="ansi-blue-fg">(data, path, seen_meta, level)</span>
<span class="ansi-green-intense-fg ansi-bold">    330</span>                                     <span class="ansi-blue-fg">"Try running with errors='ignore' as key "</span>
<span class="ansi-green-intense-fg ansi-bold">    331</span>                                     <span class="ansi-blue-fg">f"{e} is not always present"</span>
<span class="ansi-green-fg">--&gt; 332</span><span class="ansi-red-fg">                                 ) from e
</span><span class="ansi-green-intense-fg ansi-bold">    333</span>                     meta_vals<span class="ansi-blue-fg">[</span>key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>meta_val<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    334</span>                 records<span class="ansi-blue-fg">.</span>extend<span class="ansi-blue-fg">(</span>recs<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">KeyError</span>: "Try running with errors='ignore' as key 'math' is not always present"</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span> 
    <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">],</span> 
    <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'info'</span><span class="p">,</span> <span class="s1">'teachers'</span><span class="p">,</span> <span class="s1">'math'</span><span class="p">]],</span>
    <span class="n">errors</span><span class="o">=</span><span class="s1">'ignore'</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[22]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>sex</th>
      <th>class</th>
      <th>room</th>
      <th>info.teachers.math</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
      <td>M</td>
      <td>Year 1</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
      <td>M</td>
      <td>Year 1</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tony</td>
      <td>M</td>
      <td>Year 2</td>
      <td>Blue</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jacqueline</td>
      <td>F</td>
      <td>Year 2</td>
      <td>Blue</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>5. Custom separator using <code>sep</code><a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#5.-Custom-separator-using-sep">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 1'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Yellow'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Rick Scott'</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Elon Mask'</span> <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tom'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span><span class="p">,</span> <span class="s1">'grades'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="mi">66</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="mi">77</span> <span class="p">}</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'James'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span><span class="p">,</span> <span class="s1">'grades'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="mi">78</span> <span class="p">}</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> 
        <span class="s1">'class'</span><span class="p">:</span> <span class="s1">'Year 2'</span><span class="p">,</span> 
        <span class="s1">'student count'</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> 
        <span class="s1">'room'</span><span class="p">:</span> <span class="s1">'Blue'</span><span class="p">,</span>
        <span class="s1">'info'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'teachers'</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'math'</span><span class="p">:</span> <span class="s1">'Alan Turing'</span><span class="p">,</span> <span class="s1">'physics'</span><span class="p">:</span> <span class="s1">'Albert Einstein'</span> <span class="p">}</span>
        <span class="p">},</span>
        <span class="s1">'students'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Tony'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'M'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Jacqueline'</span><span class="p">,</span> <span class="s1">'sex'</span><span class="p">:</span> <span class="s1">'F'</span> <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span> 
    <span class="n">record_path</span> <span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">],</span> 
    <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">'room'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'info'</span><span class="p">,</span> <span class="s1">'teachers'</span><span class="p">,</span> <span class="s1">'math'</span><span class="p">]],</span>
    <span class="n">sep</span><span class="o">=</span><span class="s1">'-&gt;'</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[24]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>sex</th>
      <th>grades-&gt;math</th>
      <th>grades-&gt;physics</th>
      <th>class</th>
      <th>room</th>
      <th>info-&gt;teachers-&gt;math</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
      <td>M</td>
      <td>66.0</td>
      <td>77.0</td>
      <td>Year 1</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
      <td>M</td>
      <td>80.0</td>
      <td>78.0</td>
      <td>Year 1</td>
      <td>Yellow</td>
      <td>Rick Scott</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tony</td>
      <td>M</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Year 2</td>
      <td>Blue</td>
      <td>Alan Turing</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jacqueline</td>
      <td>F</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Year 2</td>
      <td>Blue</td>
      <td>Alan Turing</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>6. Adding prefix for meta and record data using <code>meta_prefix</code> and <code>record_prefix</code><a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#6.-Adding-prefix-for-meta-and-record-data-using-meta_prefix-and-record_prefix">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span> 
    <span class="n">record_path</span><span class="o">=</span><span class="p">[</span><span class="s1">'students'</span><span class="p">],</span> 
    <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s1">'class'</span><span class="p">],</span>
    <span class="n">meta_prefix</span><span class="o">=</span><span class="s1">'meta-'</span><span class="p">,</span>
    <span class="n">record_prefix</span><span class="o">=</span><span class="s1">'student-'</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[25]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>student-name</th>
      <th>student-sex</th>
      <th>student-grades.math</th>
      <th>student-grades.physics</th>
      <th>meta-class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Tom</td>
      <td>M</td>
      <td>66.0</td>
      <td>77.0</td>
      <td>Year 1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>James</td>
      <td>M</td>
      <td>80.0</td>
      <td>78.0</td>
      <td>Year 1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tony</td>
      <td>M</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Year 2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jacqueline</td>
      <td>F</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Year 2</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>7. Working with a local file<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#7.-Working-with-a-local-file">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="c1"># load data using Python JSON module</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'data/simple.json'</span><span class="p">,</span><span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    
<span class="c1"># Normalizing data</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[27]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>math</th>
      <th>physics</th>
      <th>chemistry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A001</td>
      <td>Tom</td>
      <td>60</td>
      <td>66</td>
      <td>61</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A002</td>
      <td>James</td>
      <td>89</td>
      <td>76</td>
      <td>51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A003</td>
      <td>Jenny</td>
      <td>79</td>
      <td>90</td>
      <td>78</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>8. Working with a URL<a class="anchor-link" href="https://render-temp.githubusercontent.com/view/ipynb?color_mode=dark&amp;commit=aeb6efe6ac81cc9d57666343d70845ac0ea0ecad&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f42696e64694368656e2f6d616368696e652d6c6561726e696e672f616562366566653661633831636339643537363636333433643730383435616330656130656361642f646174612d616e616c797369732f3032382d70616e6461732d6a736f6e5f6e6f726d616c697a652f70616e6461732d6a736f6e5f6e6f726d616c697a652e6970796e62&amp;nwo=BindiChen%2Fmachine-learning&amp;path=data-analysis%2F028-pandas-json_normalize%2Fpandas-json_normalize.ipynb&amp;repository_id=263170581&amp;repository_type=Repository#8.-Working-with-a-URL">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">URL</span> <span class="o">=</span> <span class="s1">'http://raw.githubusercontent.com/BindiChen/machine-learning/master/data-analysis/027-pandas-convert-json/data/simple.json'</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[28]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>

<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>math</th>
      <th>physics</th>
      <th>chemistry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A001</td>
      <td>Tom</td>
      <td>60</td>
      <td>66</td>
      <td>61</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A002</td>
      <td>James</td>
      <td>89</td>
      <td>76</td>
      <td>51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A003</td>
      <td>Jenny</td>
      <td>79</td>
      <td>90</td>
      <td>78</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
 

</div>

  </div>

  



</body></html>